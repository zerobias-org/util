/* eslint-disable */
// ===============================================
// This file is autogenerated - Please do not edit
// ===============================================
import { AxiosInstance } from 'axios';
import { ArtifactUpdate, ArtifactVersion, LoadArtifact, LoadTask, SortObject, ValidateArtifact } from '../model/index.js';
import { URL, EnumValue, IllegalArgumentError, PagedResults, Int32, UUID, CoreError, ParameterRequiredError, UnexpectedError, HttpMethod } from '@zerobias-org/types-core-js';
import { RequestFile, ObjectSerializer } from '../model/index.js';

export namespace ArtifactApi {
  export const StatusEnum = {
    /**  */
    Starting: EnumValue.instance('ArtifactApi.StatusEnum', 'Starting', 'starting'),
    /**  */
    Running: EnumValue.instance('ArtifactApi.StatusEnum', 'Running', 'running'),
    /**  */
    Failed: EnumValue.instance('ArtifactApi.StatusEnum', 'Failed', 'failed'),
    /**  */
    Finished: EnumValue.instance('ArtifactApi.StatusEnum', 'Finished', 'finished'),

    from(val: string | number): EnumValue {
      if (StatusEnum[val]) {
        return StatusEnum[val];
      }
      const byValue = StatusEnum.values.find((v) => v.value === val);
      if (byValue) {
        return byValue;
      }
      throw new IllegalArgumentError(`${val} is not a valid StatusEnum`);
    },

    get values(): EnumValue[] {
      return Object
        .keys(StatusEnum)
        .filter((k) => k !== 'values' && k !== 'from')
        .map((t) => StatusEnum[t]);
    }
  } as const;

export type StatusEnumDef = typeof StatusEnum[keyof typeof StatusEnum];
}

/**
 * ArtifactApi - interface
 * @export
 * @interface ArtifactApi
 */
export interface ArtifactApi {
  /**
   * Gets an artifact currently installed on the system and update info
   * @summary Gets an artifact currently installed on the system and update info
   * @param {UUID} id 
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.getArtifact('00000000-0000-0000-0000-000000000000');
   * ```
   * @openapi operation=getArtifact path=/catalog/artifacts/{id} method=GET
   * @memberof ArtifactApi
   */
  getArtifact(id: UUID): Promise<ArtifactVersion & ArtifactUpdate>;

  /**
   * Gets an artifact task by id
   * @summary Gets an artifact task by id
   * @param {UUID} id 
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.getArtifactTask('00000000-0000-0000-0000-000000000000');
   * ```
   * @openapi operation=getArtifactTask path=/catalog/artifactTasks/{id} method=GET
   * @memberof ArtifactApi
   */
  getArtifactTask(id: UUID): Promise<LoadTask>;

  /**
   * Lists all artifact tasks
   * @summary Lists all artifact tasks
   * @param {ArtifactApi.StatusEnum} [status] Filter by status of task
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.listArtifactTasks('status');
   * ```
   * @openapi operation=listArtifactTasks path=/catalog/artifactTasks method=GET
   * @memberof ArtifactApi
   */
  listArtifactTasks(status?: ArtifactApi.StatusEnumDef): Promise<{ [key: string]: LoadTask; }>;

  /**
   * Lists all artifact types the system supports
   * @summary Lists all artifact types the system supports
   * @param {number} [pageNumber] The requested page. This value is 1-indexed.
   * @param {number} [pageSize] The number of items in each page of data.
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.listArtifactTypes(1, 1);
   * ```
   * @openapi operation=listArtifactTypes path=/catalog/artifactTypes method=GET
   * @memberof ArtifactApi
   */
  listArtifactTypes(pageNumber?: number, pageSize?: number): Promise<PagedResults<string>>;

  /**
   * Lists all artifacts installeds update status
   * @summary Lists all artifacts installeds update status
   * @param {number} [pageNumber] The requested page. This value is 1-indexed.
   * @param {number} [pageSize] The number of items in each page of data.
   * @param {string} [type] Filter by artifact type
   * @param {string} [search] Search by artifact name
   * @param {boolean} [deprecated] Filter if the artifact is deprecated
   * @param {number} [days] Filter by the number of days to go back.
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.listArtifactUpdates(1, 1, 'type', 'search', true, null);
   * ```
   * @openapi operation=listArtifactUpdates path=/catalog/artifactUpdates method=GET
   * @memberof ArtifactApi
   */
  listArtifactUpdates(pageNumber?: number, pageSize?: number, type?: string, search?: string, deprecated?: boolean, days?: number): Promise<PagedResults<ArtifactVersion & ArtifactUpdate>>;

  /**
   * Lists all artifacts currently installed on the system
   * @summary Lists all artifacts currently installed on the system
   * @param {number} [pageNumber] The requested page. This value is 1-indexed.
   * @param {number} [pageSize] The number of items in each page of data.
   * @param {string} [type] Filter by artifact type
   * @param {string} [search] Search by artifact name
   * @param {boolean} [deprecated] Filter if the artifact is deprecated
   * @param {number} [days] Filter by the number of days to go back.
   * @param {SortObject} [sort] Sort object
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.listArtifacts(1, 1, 'type', 'search', true, null, null);
   * ```
   * @openapi operation=listArtifacts path=/catalog/artifacts method=GET
   * @memberof ArtifactApi
   */
  listArtifacts(pageNumber?: number, pageSize?: number, type?: string, search?: string, deprecated?: boolean, days?: number, sort?: SortObject): Promise<PagedResults<ArtifactVersion>>;

  /**
   * Validates if an artifact exists for load, with optional version
   * @summary Validates if an artifact exists for load, with optional version
   * @param {LoadArtifact} loadArtifact 
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.validateArtifact(null);
   * ```
   * @openapi operation=validateArtifact path=/catalog/validateArtifacts method=POST
   * @memberof ArtifactApi
   */
  validateArtifact(loadArtifact: LoadArtifact): Promise<ValidateArtifact>;

}

/**
 * ArtifactProducerApi - interface
 * Producer interface for Artifact
 * @export
 * @interface ArtifactProducerApi
 */
export interface ArtifactProducerApi {
  /**
  * Gets an artifact currently installed on the system and update info
  * @summary Gets an artifact currently installed on the system and update info
  * @param {UUID} id 
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=getArtifact path=/catalog/artifacts/{id} method=GET
  * @memberof Artifact
  */
  getArtifact(id: UUID): Promise<ArtifactVersion & ArtifactUpdate>;
  /**
  * Gets an artifact task by id
  * @summary Gets an artifact task by id
  * @param {UUID} id 
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=getArtifactTask path=/catalog/artifactTasks/{id} method=GET
  * @memberof Artifact
  */
  getArtifactTask(id: UUID): Promise<LoadTask>;
  /**
  * Lists all artifact tasks
  * @summary Lists all artifact tasks
  * @param {ArtifactApi.StatusEnum} [status] Filter by status of task
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=listArtifactTasks path=/catalog/artifactTasks method=GET
  * @memberof Artifact
  */
  listArtifactTasks(status?: ArtifactApi.StatusEnumDef): Promise<{ [key: string]: LoadTask; }>;
  /**
  * Lists all artifact types the system supports
  * @summary Lists all artifact types the system supports
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=listArtifactTypes path=/catalog/artifactTypes method=GET
  * @memberof Artifact
  */
  listArtifactTypes(results: PagedResults<string>): Promise<void>;
  /**
  * Lists all artifacts installeds update status
  * @summary Lists all artifacts installeds update status
  * @param {string} [type] Filter by artifact type
  * @param {string} [search] Search by artifact name
  * @param {boolean} [deprecated] Filter if the artifact is deprecated
  * @param {number} [days] Filter by the number of days to go back.
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=listArtifactUpdates path=/catalog/artifactUpdates method=GET
  * @memberof Artifact
  */
  listArtifactUpdates(results: PagedResults<ArtifactVersion & ArtifactUpdate>, type?: string, search?: string, deprecated?: boolean, days?: number): Promise<void>;
  /**
  * Lists all artifacts currently installed on the system
  * @summary Lists all artifacts currently installed on the system
  * @param {string} [type] Filter by artifact type
  * @param {string} [search] Search by artifact name
  * @param {boolean} [deprecated] Filter if the artifact is deprecated
  * @param {number} [days] Filter by the number of days to go back.
  * @param {SortObject} [sort] Sort object
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=listArtifacts path=/catalog/artifacts method=GET
  * @memberof Artifact
  */
  listArtifacts(results: PagedResults<ArtifactVersion>, type?: string, search?: string, deprecated?: boolean, days?: number, sort?: SortObject): Promise<void>;
  /**
  * Validates if an artifact exists for load, with optional version
  * @summary Validates if an artifact exists for load, with optional version
  * @param {LoadArtifact} loadArtifact 
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=validateArtifact path=/catalog/validateArtifacts method=POST
  * @memberof Artifact
  */
  validateArtifact(loadArtifact: LoadArtifact): Promise<ValidateArtifact>;
}

export class ArtifactApiMappingImpl implements ArtifactApi {
  private producer: ArtifactProducerApi;
  constructor(producer: ArtifactProducerApi) {
    this.producer = producer;
  }

  /**
   * Gets an artifact currently installed on the system and update info
   * @summary Gets an artifact currently installed on the system and update info
   * @param id 
   * @openapi operation=getArtifact path=/catalog/artifacts/{id} method=GET
   */
  public async getArtifact(id: UUID): Promise<ArtifactVersion & ArtifactUpdate> {
    // verify required parameter 'id' is not null or undefined
    if (id === null || id === undefined) {
      throw new ParameterRequiredError('id');
    }
    return this.producer.getArtifact(id);
  }
  /**
   * Gets an artifact task by id
   * @summary Gets an artifact task by id
   * @param id 
   * @openapi operation=getArtifactTask path=/catalog/artifactTasks/{id} method=GET
   */
  public async getArtifactTask(id: UUID): Promise<LoadTask> {
    // verify required parameter 'id' is not null or undefined
    if (id === null || id === undefined) {
      throw new ParameterRequiredError('id');
    }
    return this.producer.getArtifactTask(id);
  }
  /**
   * Lists all artifact tasks
   * @summary Lists all artifact tasks
   * @param status Filter by status of task
   * @openapi operation=listArtifactTasks path=/catalog/artifactTasks method=GET
   */
  public async listArtifactTasks(status?: ArtifactApi.StatusEnumDef): Promise<{ [key: string]: LoadTask; }> {
    return this.producer.listArtifactTasks(status);
  }
  /**
   * Lists all artifact types the system supports
   * @summary Lists all artifact types the system supports
   * @param pageNumber The requested page. This value is 1-indexed.
   * @param pageSize The number of items in each page of data.
   * @openapi operation=listArtifactTypes path=/catalog/artifactTypes method=GET
   */
  public async listArtifactTypes(pageNumber: number = 1, pageSize: number = 50): Promise<PagedResults<string>> {
    if (pageNumber) {
      await Int32.parse(pageNumber);
    }
    if (pageSize) {
      await Int32.parse(pageSize);
    }
    const bag = new PagedResults<string>();
    bag.pageNumber = pageNumber;
    bag.pageSize = pageSize;
    await this.producer.listArtifactTypes(bag);
    if (bag.items === null || bag.items === undefined) {
      throw new UnexpectedError("Producers must return 'items' for PagedResults queries");
    }
    return bag;
  }
  /**
   * Lists all artifacts installeds update status
   * @summary Lists all artifacts installeds update status
   * @param pageNumber The requested page. This value is 1-indexed.
   * @param pageSize The number of items in each page of data.
   * @param type Filter by artifact type
   * @param search Search by artifact name
   * @param deprecated Filter if the artifact is deprecated
   * @param days Filter by the number of days to go back.
   * @openapi operation=listArtifactUpdates path=/catalog/artifactUpdates method=GET
   */
  public async listArtifactUpdates(pageNumber: number = 1, pageSize: number = 50, type?: string, search?: string, deprecated?: boolean, days?: number): Promise<PagedResults<ArtifactVersion & ArtifactUpdate>> {
    if (pageNumber) {
      await Int32.parse(pageNumber);
    }
    if (pageSize) {
      await Int32.parse(pageSize);
    }
    if (days) {
      await Int32.parse(days);
    }
    const bag = new PagedResults<ArtifactVersion & ArtifactUpdate>();
    bag.pageNumber = pageNumber;
    bag.pageSize = pageSize;
    await this.producer.listArtifactUpdates(bag, type, search, deprecated, days);
    if (bag.items === null || bag.items === undefined) {
      throw new UnexpectedError("Producers must return 'items' for PagedResults queries");
    }
    return bag;
  }
  /**
   * Lists all artifacts currently installed on the system
   * @summary Lists all artifacts currently installed on the system
   * @param pageNumber The requested page. This value is 1-indexed.
   * @param pageSize The number of items in each page of data.
   * @param type Filter by artifact type
   * @param search Search by artifact name
   * @param deprecated Filter if the artifact is deprecated
   * @param days Filter by the number of days to go back.
   * @param sort Sort object
   * @openapi operation=listArtifacts path=/catalog/artifacts method=GET
   */
  public async listArtifacts(pageNumber: number = 1, pageSize: number = 50, type?: string, search?: string, deprecated?: boolean, days?: number, sort?: SortObject): Promise<PagedResults<ArtifactVersion>> {
    if (pageNumber) {
      await Int32.parse(pageNumber);
    }
    if (pageSize) {
      await Int32.parse(pageSize);
    }
    if (days) {
      await Int32.parse(days);
    }
    const bag = new PagedResults<ArtifactVersion>();
    bag.pageNumber = pageNumber;
    bag.pageSize = pageSize;
    await this.producer.listArtifacts(bag, type, search, deprecated, days, sort);
    if (bag.items === null || bag.items === undefined) {
      throw new UnexpectedError("Producers must return 'items' for PagedResults queries");
    }
    return bag;
  }
  /**
   * Validates if an artifact exists for load, with optional version
   * @summary Validates if an artifact exists for load, with optional version
   * @param loadArtifact 
   * @openapi operation=validateArtifact path=/catalog/validateArtifacts method=POST
   */
  public async validateArtifact(loadArtifact: LoadArtifact): Promise<ValidateArtifact> {
    // verify required parameter 'loadArtifact' is not null or undefined
    if (loadArtifact === null || loadArtifact === undefined) {
      throw new ParameterRequiredError('loadArtifact');
    }
    return this.producer.validateArtifact(loadArtifact);
  }
}

/**
 * Wrap producer with mapping implementation
 */
export function wrapArtifactProducer(producer: ArtifactProducerApi): ArtifactApi {
  return new ArtifactApiMappingImpl(producer);
}

/**
 * ArtifactApiHttpImpl - Direct HTTP implementation
 *
 * Makes direct HTTP calls to the API using Axios.
 * Used by SDK clients for platform service access.
 */
export class ArtifactApiHttpImpl implements ArtifactProducerApi {
  private client: AxiosInstance;
  private headers: Record<string, string>;

  constructor(client: AxiosInstance, headers: Record<string, string> = {}) {
    this.client = client;
    this.headers = headers;
  }

  async getArtifact(id: UUID): Promise<ArtifactVersion & ArtifactUpdate> {
  const _queryParams = {
      
  };
  const _bodyParams = {
      
  };
  let _path = '/catalog/artifacts/{id}';
  _path = _path.replace('{id}', encodeURIComponent(String(id)));
  return this.client.get(
    _path,
    { params: _queryParams })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      return ObjectSerializer.deserialize(response.data, 'ArtifactVersion & ArtifactUpdate')
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async getArtifactTask(id: UUID): Promise<LoadTask> {
  const _queryParams = {
      
  };
  const _bodyParams = {
      
  };
  let _path = '/catalog/artifactTasks/{id}';
  _path = _path.replace('{id}', encodeURIComponent(String(id)));
  return this.client.get(
    _path,
    { params: _queryParams })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      return ObjectSerializer.deserialize(response.data, 'LoadTask')
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async listArtifactTasks(status?: ArtifactApi.StatusEnumDef): Promise<{ [key: string]: LoadTask; }> {
  const _queryParams = {
      status,
  };
  const _bodyParams = {
      
  };
  let _path = '/catalog/artifactTasks';
  return this.client.get(
    _path,
    { params: _queryParams })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      return ObjectSerializer.deserialize(response.data, '{ [key: string]: LoadTask; }')
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async listArtifactTypes(results: PagedResults<string>): Promise<void> {
  const _body = {
      
  };
  let _path = '/catalog/artifactTypes';
  return this.client.get(
    _path,
    {
      params: {
        ..._body,
        pageNumber: results.pageNumber,
        pageSize: results.pageSize,
      }
    })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      results.items = ObjectSerializer.deserialize(response.data, 'Array<string>');
      results.count = response.headers.count ? Number(response.headers.count) : -1;
      results.pageToken = response.headers.pagetoken ?? response.headers.pageToken;
      results.headers = this.headers;
      results.baseUrl = new URL(`${this.client.getUri()}/catalog/artifactTypes`);
      results.httpMethod = HttpMethod.Get;
      results.body = _body;
      results.mapper = (obj) => ObjectSerializer.deserialize(obj, 'string');
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async listArtifactUpdates(results: PagedResults<ArtifactVersion & ArtifactUpdate>, type?: string, search?: string, deprecated?: boolean, days?: number): Promise<void> {
  const _body = {
      type,search,deprecated,days,
  };
  let _path = '/catalog/artifactUpdates';
  return this.client.get(
    _path,
    {
      params: {
        ..._body,
        pageNumber: results.pageNumber,
        pageSize: results.pageSize,
      }
    })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      results.items = ObjectSerializer.deserialize(response.data, 'Array<ArtifactVersion & ArtifactUpdate>');
      results.count = response.headers.count ? Number(response.headers.count) : -1;
      results.pageToken = response.headers.pagetoken ?? response.headers.pageToken;
      results.headers = this.headers;
      results.baseUrl = new URL(`${this.client.getUri()}/catalog/artifactUpdates`);
      results.httpMethod = HttpMethod.Get;
      results.body = _body;
      results.mapper = (obj) => ObjectSerializer.deserialize(obj, 'ArtifactVersion & ArtifactUpdate');
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async listArtifacts(results: PagedResults<ArtifactVersion>, type?: string, search?: string, deprecated?: boolean, days?: number, sort?: SortObject): Promise<void> {
  const _body = {
      type,search,deprecated,days,sort,
  };
  let _path = '/catalog/artifacts';
  return this.client.get(
    _path,
    {
      params: {
        ..._body,
        pageNumber: results.pageNumber,
        pageSize: results.pageSize,
      }
    })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      results.items = ObjectSerializer.deserialize(response.data, 'Array<ArtifactVersion>');
      results.count = response.headers.count ? Number(response.headers.count) : -1;
      results.pageToken = response.headers.pagetoken ?? response.headers.pageToken;
      results.headers = this.headers;
      results.baseUrl = new URL(`${this.client.getUri()}/catalog/artifacts`);
      results.httpMethod = HttpMethod.Get;
      results.body = _body;
      results.mapper = (obj) => ObjectSerializer.deserialize(obj, 'ArtifactVersion');
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async validateArtifact(loadArtifact: LoadArtifact): Promise<ValidateArtifact> {
  const _queryParams = {
      
  };
  const _bodyParams = {
      ...loadArtifact,
  };
  let _path = '/catalog/validateArtifacts';
  return this.client.post(
    _path,
    _bodyParams)
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      return ObjectSerializer.deserialize(response.data, 'ValidateArtifact')
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
}
