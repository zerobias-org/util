/* eslint-disable */
// ===============================================
// This file is autogenerated - Please do not edit
// ===============================================
import { AxiosInstance } from 'axios';
import { OpenApiMethodDef, Operation, OperationInfo, OperationStatusDef, OperationTypeParamDef, OrderByParamDef, SortParamDef } from '../model/index.js';
import { URL, EnumValue, IllegalArgumentError, PagedResults, Int32, UUID, CoreError, ParameterRequiredError, UnexpectedError, HttpMethod } from '@zerobias-org/types-core-js';
import { RequestFile, ObjectSerializer } from '../model/index.js';

export namespace OperationApi {
}

/**
 * OperationApi - interface
 * @export
 * @interface OperationApi
 */
export interface OperationApi {
  /**
   * 
   * @summary Retrieves a detailed operation with examples and content type
   * @param {UUID} operationId The id of an operation
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.get('00000000-0000-0000-0000-000000000000');
   * ```
   * @openapi operation=getOperation path=/operations/{operationId} method=GET
   * @memberof OperationApi
   */
  get(operationId: UUID): Promise<OperationInfo>;

  /**
   * 
   * @summary Retrieves a list of operations The list of operations will contain:

  * Orderable and Ordered catalog operations.
  * Active Api operations.
  * Ordered Operations that have been activated are taken away from this view.
  * Additionally, Active operations will contain information about operations the ordered operations they are linked to.
    In most cases, this will be an array of size 1, however this will not always be the case.
Operations may be searched by name, using keywords search. The search will match against any operation name or their simbling's (ordered operations linked to api operations). If `latest` is set to true, only Active operations associated with the latest module version(s) will be returned.
   * @param {number} [pageNumber] The requested page. This value is 1-indexed.
   * @param {number} [pageSize] The number of items in each page of data.
   * @param {OperationTypeParam} [type] Filter by operation type. Note: this is deprecated and will be removed in a future release.  Please use the status filter to filter operation by status.
   * @param {Array<string>} [packageNames] Filter by product package name. This filter cannot be combined with the productVersionId filter
   * @param {OperationStatus} [status] Filter by operation status
   * @param {UUID} [productVersionId] Filter by product version. This filter cannot be combined with the packageNames filter
   * @param {UUID} [moduleVersionId] Filter by module version. This filter cannot be combined with the packageNames filter
   * @param {string} [name] This filter is now deprecated. Please use the &#x60;keywords&#x60; filter instead. Filters operation name(s). This filter is a text search filter which is based on: * The operation name, and all of it&#39;s linked operation names. * Split up sections of operation names, when those are easily identifiable:

  * i.e. resources.projects.list may be filterd on resource, projects and list
  * resourcesProjectsList may also match the same filters
Search terms may be separated by a space, in which case the search currently assumes a logical AND. * name&#x3D;&quot;resource projects search&quot; &#x3D;&gt; the name(s) must match resource project and search terms
   * @param {OpenApiMethod} [method] Filter by HTTP Method. Note that this only applies to active operations.  Orderable and Ordered operations do not yet have a method.
   * @param {Array<string>} [keywords] Keywords to search by. These will match against resource name/description and aliases The following filter uses text search, results will be ordered by relevancy and whichever order/sort parameter was provided alongside. i.e. sort by rank desc, name asc
   * @param {boolean} [latest] Only return &#x60;active&#x60; operations that are present in the latest version of each module. Orderable operations will be filtered out from the result.  This parameter has no effect when a &#x60;moduleVersionId&#x60; is provided
   * @param {OrderByParam} [orderBy] Order by the given property
   * @param {SortParam} [sort] The order in which to sort the results, defaults to &#x60;asc&#x60;
   * @param {*} [options] Override http request option.
   * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
   * @example
   * ```typescript
   * const result = await api.list(1, 1, null, null, null, '00000000-0000-0000-0000-000000000000', '00000000-0000-0000-0000-000000000000', 'name', null, null, true, null, null);
   * ```
   * @openapi operation=listOperations path=/operations method=GET
   * @memberof OperationApi
   */
  list(pageNumber?: number, pageSize?: number, type?: OperationTypeParamDef, packageNames?: Array<string>, status?: OperationStatusDef, productVersionId?: UUID, moduleVersionId?: UUID, name?: string, method?: OpenApiMethodDef, keywords?: Array<string>, latest?: boolean, orderBy?: OrderByParamDef, sort?: SortParamDef): Promise<PagedResults<Operation>>;

}

/**
 * OperationProducerApi - interface
 * Producer interface for Operation
 * @export
 * @interface OperationProducerApi
 */
export interface OperationProducerApi {
  /**
  * 
  * @summary Retrieves a detailed operation with examples and content type
  * @param {UUID} operationId The id of an operation
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=getOperation path=/operations/{operationId} method=GET
  * @memberof Operation
  */
  get(operationId: UUID): Promise<OperationInfo>;
  /**
  * 
  * @summary Retrieves a list of operations The list of operations will contain:

  * Orderable and Ordered catalog operations.
  * Active Api operations.
  * Ordered Operations that have been activated are taken away from this view.
  * Additionally, Active operations will contain information about operations the ordered operations they are linked to.
    In most cases, this will be an array of size 1, however this will not always be the case.
Operations may be searched by name, using keywords search. The search will match against any operation name or their simbling's (ordered operations linked to api operations). If `latest` is set to true, only Active operations associated with the latest module version(s) will be returned.
  * @param {OperationTypeParam} [type] Filter by operation type. Note: this is deprecated and will be removed in a future release.  Please use the status filter to filter operation by status.
  * @param {Array<string>} [packageNames] Filter by product package name. This filter cannot be combined with the productVersionId filter
  * @param {OperationStatus} [status] Filter by operation status
  * @param {UUID} [productVersionId] Filter by product version. This filter cannot be combined with the packageNames filter
  * @param {UUID} [moduleVersionId] Filter by module version. This filter cannot be combined with the packageNames filter
  * @param {string} [name] This filter is now deprecated. Please use the &#x60;keywords&#x60; filter instead. Filters operation name(s). This filter is a text search filter which is based on: * The operation name, and all of it&#39;s linked operation names. * Split up sections of operation names, when those are easily identifiable:

  * i.e. resources.projects.list may be filterd on resource, projects and list
  * resourcesProjectsList may also match the same filters
Search terms may be separated by a space, in which case the search currently assumes a logical AND. * name&#x3D;&quot;resource projects search&quot; &#x3D;&gt; the name(s) must match resource project and search terms
  * @param {OpenApiMethod} [method] Filter by HTTP Method. Note that this only applies to active operations.  Orderable and Ordered operations do not yet have a method.
  * @param {Array<string>} [keywords] Keywords to search by. These will match against resource name/description and aliases The following filter uses text search, results will be ordered by relevancy and whichever order/sort parameter was provided alongside. i.e. sort by rank desc, name asc
  * @param {boolean} [latest] Only return &#x60;active&#x60; operations that are present in the latest version of each module. Orderable operations will be filtered out from the result.  This parameter has no effect when a &#x60;moduleVersionId&#x60; is provided
  * @param {OrderByParam} [orderBy] Order by the given property
  * @param {SortParam} [sort] The order in which to sort the results, defaults to &#x60;asc&#x60;
  * @param {*} [options] Override http request option.
  * @throws {@link @zerobias-org/types-core-js#ParameterRequiredError} if any required parameter is not provided
  * @openapi operation=listOperations path=/operations method=GET
  * @memberof Operation
  */
  list(results: PagedResults<Operation>, type?: OperationTypeParamDef, packageNames?: Array<string>, status?: OperationStatusDef, productVersionId?: UUID, moduleVersionId?: UUID, name?: string, method?: OpenApiMethodDef, keywords?: Array<string>, latest?: boolean, orderBy?: OrderByParamDef, sort?: SortParamDef): Promise<void>;
}

export class OperationApiMappingImpl implements OperationApi {
  private producer: OperationProducerApi;
  constructor(producer: OperationProducerApi) {
    this.producer = producer;
  }

  /**
   * 
   * @summary Retrieves a detailed operation with examples and content type
   * @param operationId The id of an operation
   * @openapi operation=getOperation path=/operations/{operationId} method=GET
   */
  public async get(operationId: UUID): Promise<OperationInfo> {
    // verify required parameter 'operationId' is not null or undefined
    if (operationId === null || operationId === undefined) {
      throw new ParameterRequiredError('operationId');
    }
    return this.producer.get(operationId);
  }
  /**
   * 
   * @summary Retrieves a list of operations The list of operations will contain:

  * Orderable and Ordered catalog operations.
  * Active Api operations.
  * Ordered Operations that have been activated are taken away from this view.
  * Additionally, Active operations will contain information about operations the ordered operations they are linked to.
    In most cases, this will be an array of size 1, however this will not always be the case.
Operations may be searched by name, using keywords search. The search will match against any operation name or their simbling's (ordered operations linked to api operations). If `latest` is set to true, only Active operations associated with the latest module version(s) will be returned.
   * @param pageNumber The requested page. This value is 1-indexed.
   * @param pageSize The number of items in each page of data.
   * @param type Filter by operation type. Note: this is deprecated and will be removed in a future release.  Please use the status filter to filter operation by status.
   * @param packageNames Filter by product package name. This filter cannot be combined with the productVersionId filter
   * @param status Filter by operation status
   * @param productVersionId Filter by product version. This filter cannot be combined with the packageNames filter
   * @param moduleVersionId Filter by module version. This filter cannot be combined with the packageNames filter
   * @param name This filter is now deprecated. Please use the &#x60;keywords&#x60; filter instead. Filters operation name(s). This filter is a text search filter which is based on: * The operation name, and all of it&#39;s linked operation names. * Split up sections of operation names, when those are easily identifiable:

  * i.e. resources.projects.list may be filterd on resource, projects and list
  * resourcesProjectsList may also match the same filters
Search terms may be separated by a space, in which case the search currently assumes a logical AND. * name&#x3D;&quot;resource projects search&quot; &#x3D;&gt; the name(s) must match resource project and search terms
   * @param method Filter by HTTP Method. Note that this only applies to active operations.  Orderable and Ordered operations do not yet have a method.
   * @param keywords Keywords to search by. These will match against resource name/description and aliases The following filter uses text search, results will be ordered by relevancy and whichever order/sort parameter was provided alongside. i.e. sort by rank desc, name asc
   * @param latest Only return &#x60;active&#x60; operations that are present in the latest version of each module. Orderable operations will be filtered out from the result.  This parameter has no effect when a &#x60;moduleVersionId&#x60; is provided
   * @param orderBy Order by the given property
   * @param sort The order in which to sort the results, defaults to &#x60;asc&#x60;
   * @openapi operation=listOperations path=/operations method=GET
   */
  public async list(pageNumber: number = 1, pageSize: number = 50, type?: OperationTypeParamDef, packageNames?: Array<string>, status?: OperationStatusDef, productVersionId?: UUID, moduleVersionId?: UUID, name?: string, method?: OpenApiMethodDef, keywords?: Array<string>, latest: boolean = false, orderBy?: OrderByParamDef, sort?: SortParamDef): Promise<PagedResults<Operation>> {
    if (pageNumber) {
      await Int32.parse(pageNumber);
    }
    if (pageSize) {
      await Int32.parse(pageSize);
    }
    const bag = new PagedResults<Operation>();
    bag.pageNumber = pageNumber;
    bag.pageSize = pageSize;
    await this.producer.list(bag, type, packageNames, status, productVersionId, moduleVersionId, name, method, keywords, latest, orderBy, sort);
    if (bag.items === null || bag.items === undefined) {
      throw new UnexpectedError("Producers must return 'items' for PagedResults queries");
    }
    return bag;
  }
}

/**
 * Wrap producer with mapping implementation
 */
export function wrapOperationProducer(producer: OperationProducerApi): OperationApi {
  return new OperationApiMappingImpl(producer);
}

/**
 * OperationApiHttpImpl - Direct HTTP implementation
 *
 * Makes direct HTTP calls to the API using Axios.
 * Used by SDK clients for platform service access.
 */
export class OperationApiHttpImpl implements OperationProducerApi {
  private client: AxiosInstance;
  private headers: Record<string, string>;

  constructor(client: AxiosInstance, headers: Record<string, string> = {}) {
    this.client = client;
    this.headers = headers;
  }

  async get(operationId: UUID): Promise<OperationInfo> {
  const _queryParams = {
      
  };
  const _bodyParams = {
      
  };
  let _path = '/operations/{operationId}';
  _path = _path.replace('{operationId}', encodeURIComponent(String(operationId)));
  return this.client.get(
    _path,
    { params: _queryParams })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      return ObjectSerializer.deserialize(response.data, 'OperationInfo')
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
  async list(results: PagedResults<Operation>, type?: OperationTypeParamDef, packageNames?: Array<string>, status?: OperationStatusDef, productVersionId?: UUID, moduleVersionId?: UUID, name?: string, method?: OpenApiMethodDef, keywords?: Array<string>, latest?: boolean, orderBy?: OrderByParamDef, sort?: SortParamDef): Promise<void> {
  const _body = {
      type,packageNames,status,productVersionId,moduleVersionId,name,method,keywords,latest,orderBy,sort,
  };
  let _path = '/operations';
  return this.client.get(
    _path,
    {
      params: {
        ..._body,
        pageNumber: results.pageNumber,
        pageSize: results.pageSize,
      }
    })
    .then((response) => {
      // BaseApiClient uses validateStatus: () => true, so we must check status manually
      if (response.status >= 400) {
        throw CoreError.deserialize(response.data);
      }
      results.items = ObjectSerializer.deserialize(response.data, 'Array<Operation>');
      results.count = response.headers.count ? Number(response.headers.count) : -1;
      results.pageToken = response.headers.pagetoken ?? response.headers.pageToken;
      results.headers = this.headers;
      results.baseUrl = new URL(`${this.client.getUri()}/operations`);
      results.httpMethod = HttpMethod.Get;
      results.body = _body;
      results.mapper = (obj) => ObjectSerializer.deserialize(obj, 'Operation');
    })
    .catch((error) => {
      if (error.data) {
        throw CoreError.deserialize(error.data);
      } else {
        throw error;
      }
    });
  }
}
