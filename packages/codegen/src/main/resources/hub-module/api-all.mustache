/* eslint-disable */
// ===============================================
// This file is autogenerated - Please do not edit
// ===============================================
{{#apiInfo}}
{{#apis}}
{{#operations}}
import { {{classname}}, {{classname}}MappingImpl, {{producerName}}{{#invokerName}}{{#customProducer}}, Delegate{{producerName}}Impl, Custom{{producerName}}{{/customProducer}}{{^customProducer}}, {{invokerName}} {{/customProducer}}{{/invokerName}}{{^skipHubImpl}}, {{classname}}HubImpl{{/skipHubImpl}},{{#hasCustomProducer}}, {{classname}}HubImpl{{/hasCustomProducer}} } from './{{classFilename}}.js';

export function wrap{{baseName}}Producer(
  producer: {{producerName}}
  ): {{classname}} {
  return new {{classname}}MappingImpl(producer);
}

export * from './{{ classFilename }}.js';

{{/operations}}
{{/apis}}
import { Semver } from '@zerobias-org/types-core-js';
export const VERSION = new Semver('{{version}}');
{{/apiInfo}}

{{#isConnector}}
import {
  Connector,
  ConnectionMetadata,
  OperationSupportStatus,
  OperationSupportStatusDef
} from '@zerobias-com/hub-core';
{{#hasState}}
import { OAuthConnectionDetails } from '@zerobias-com/hub-core';
{{/hasState}}

import { ConnectionProfile } from '../model/ConnectionProfile.js';
{{#hasState}}
import { ConnectionState } from '../model/ConnectionState.js';
{{/hasState}}
{{/isConnector}}

{{#apiInfo}}
export interface {{apiName}} {
{{#apis}}
  get{{classname}}(): {{classname}}
{{/apis}}
}

{{#isConnector}}
export class ConnectionWrapper {
  connectionProfile?: ConnectionProfile;{{#hasState}}
  connectionState?: ConnectionState;{{/hasState}}
  constructor(
      connectionProfile?: ConnectionProfile{{#hasState}},
      connectionState?: ConnectionState{{/hasState}}
  ) {
    this.connectionProfile = connectionProfile;{{#hasState}}
    this.connectionState = connectionState;{{/hasState}}
  }
}
{{/isConnector}}

{{#isConnector}}export type {{apiName}}Connector = {{apiName}} & Connector<ConnectionProfile, {{#hasState}}ConnectionState{{/hasState}}{{^hasState}}void{{/hasState}}>;{{/isConnector}}

{{#hasInvoker}}
import { ApiInvoker } from '@zerobias-org/util-api-invoker-api';{{^isConnector}}
import { ConnectionProfile } from '@zerobias-org/hub-api-client-base';{{/isConnector}}

export abstract class {{apiName}}InvokerBase implements {{apiName}}{{#isConnector}}Connector{{/isConnector}} { {{#isConnector}}
  abstract get connectionWrapper(): ConnectionWrapper;
{{/isConnector}}
{{#hasInvoker}}
  abstract get apiInvoker(): ApiInvoker;
{{/hasInvoker}}{{^isConnector}}

  /**
   * Connection profile for API requests
   * Must be implemented by subclass to provide connection configuration
   * @protected
   */
  protected abstract get connectionProfile(): ConnectionProfile | undefined;

  /**
   * API base path (e.g., '/api/hub')
   * Must be implemented by subclass to provide API path prefix
   * @protected
   */
  protected abstract get apiPath(): string | undefined;
{{/isConnector}}
{{#apis}}{{#customProducer}}
  abstract get custom{{producerName}}(): Custom{{producerName}}
{{/customProducer}}{{/apis}}
{{#apis}}
{{#invokerName}}
  get{{classname}}(): {{classname}} {
    return wrap{{baseName}}Producer(new {{^customProducer}}{{invokerName}}({{/customProducer}}{{#customProducer}}Delegate{{producerName}}Impl(this.custom{{producerName}}, {{/customProducer}}this.apiInvoker, {{#isConnector}}this.connectionWrapper{{/isConnector}}{{^isConnector}}this.connectionProfile, this.apiPath{{/isConnector}}));
  }
{{/invokerName}}
{{^invokerName}}
  abstract get{{classname}}(): {{classname}};
{{/invokerName}}
{{/apis}}{{#isConnector}}

  abstract connect(
    connectionProfile: ConnectionProfile{{#hasState}},
    oauthConnectionDetails?: OAuthConnectionDetails{{/hasState}}
  ): Promise<{{#hasState}}ConnectionState{{/hasState}}{{^hasState}}void{{/hasState}}>;

  abstract disconnect(): Promise<void>;

  abstract isConnected(): Promise<boolean>;

  abstract metadata(): Promise<ConnectionMetadata>;

  async isSupported(): Promise<OperationSupportStatusDef> {
    return OperationSupportStatus.Maybe;
  }{{#hasState}}

  abstract refresh?(
    connectionProfile: ConnectionProfile,
    connectionState: ConnectionState,
    oauthConnectionDetails?: OAuthConnectionDetails
  ): Promise<ConnectionState>;
{{/hasState}}{{/isConnector}}
}
{{/hasInvoker}}

{{^skipHubImpl}}
import { HubConnector as HubCoreHubConnector } from '@zerobias-com/hub-core';
export class {{apiName}}HubImpl extends HubCoreHubConnector implements {{apiName}} {
{{#apis}}
  get{{classname}}(): {{classname}} {
    return wrap{{baseName}}Producer(new {{classname}}HubImpl(this.client, this.headers));
  }
{{/apis}}
}
{{/skipHubImpl}}
{{/apiInfo}}
